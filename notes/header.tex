\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{geometry}
  \geometry{
    a4paper,
    total = {170mm, 257mm},
    left = 20mm,
    top = 20mm,
  }
\usepackage{graphicx}
\usepackage{titling}
\usepackage{hyperref}

\setlength{\headheight}{14pt}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}

% Code environment 
\usepackage{minted}
\usepackage{caption}

\setminted{
  mathescape,
  linenos,
  numbersep=3pt,
  frame=lines,
  framesep=1mm,
  baselinestretch=1,
  fontsize=\footnotesize,
  breaklines=true,
  xleftmargin=1em,
  xrightmargin=0em,
}

\newcounter{code}
\newcommand{\listofcode}{\listof{code}{List of Codes}}
\captionsetup[code]{labelfont=bf, name=Code}

\newcommand{\codefile}[4][python]{%
  \refstepcounter{code}%
  \captionsetup[listing]{name=Code}%
  \captionof{listing}{#2}%
  \label{#3}%
  \inputminted{#1}{#4}%
  }

% Pseudocode environment
\usepackage[ruled,vlined]{algorithm2e}

% Math environments
\usepackage{aliascnt}
\renewcommand{\theequation}{\thesection.\arabic{equation}}

\newenvironment{iproof}[1][Proof idea]
  {
    \begin{proof}[#1]
      \renewcommand{\qedsymbol}{}
  }
  {
  \end{proof}
  }

% Commands 
\usepackage{xparse}

\newcommand{\N}{\mathbb{N}}
\NewDocumentCommand{\R}{g g}{
  \IfNoValueTF{#1}
    {\mathbb{R}}
    {
    \IfNoValueTF{#2}
      {\mathbb{R}^{#1}}
      {\mathbb{R}^{#1 \times #2}}
    }
}

% Document
\usepackage{fancyhdr}
  \fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[L]{\thetitle}
    \fancyhead[R]{\theauthor}
  }

\makeatletter
\newcommand{\subtitle}[1]{\gdef\@subtitle{#1}}
\newcommand{\@subtitle}{}
\makeatother

\makeatletter
\def\@maketitle{
  \newpage 
  \null 
  \vskip 1em 
  \begin{center}
    \let \footnote \thanks 
      {\LARGE \@title \par}
      \vskip 0.5em
      {\large \@subtitle \par}
      \vskip 1em
      {\large \@date}
  \end{center}
  \par 
  \vskip 1em 
}
\makeatother
